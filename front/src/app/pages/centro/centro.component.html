<div class="container">
  <h1 class="text-center my-4">Gestão de Cursos</h1>

  <div class="d-flex justify-content-between mb-4">
    <button class="btn btn-primary" (click)="mostrarCriarCurso()" *ngIf="!mostrarFormulario">
      Criar Novo Curso
    </button>
    <button class="btn btn-secondary" (click)="voltarParaLista()" *ngIf="cursoSelecionado || mostrarFormulario">
      Voltar para Lista
    </button>
  </div>

  <!-- Formulário de criação -->
  <app-curso-form 
    *ngIf="mostrarFormulario"
    (formSubmit)="onFormSubmit($event)"
  ></app-curso-form>

  <!-- Visualização de um curso específico -->
  <app-post-view 
    *ngIf="cursoSelecionado && !mostrarFormulario" 
    [curso]="cursoSelecionado"
  ></app-post-view>

  <!-- Lista de todos os cursos -->
  <div *ngIf="!cursoSelecionado && !mostrarFormulario">
    <h2 class="mb-3">Todos os Cursos</h2>
    
    <div *ngIf="cursos.length === 0" class="alert alert-info">
      Nenhum curso encontrado.
    </div>

    <div class="list-group">
      <button 
        *ngFor="let curso of cursos"
        type="button"
        class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
        (click)="visualizarCurso(curso)"
      >
        <span>
          <strong>{{ curso.titulo }}</strong> - 
          {{ curso.areaConhecimento }}
          <span *ngIf="curso.areaCustomizada">({{ curso.areaCustomizada }})</span>
        </span>
        <span class="badge bg-primary rounded-pill">
          {{ curso.modulos?.length || 0 }} módulos
        </span>
      </button>
    </div>
  </div>
</div>